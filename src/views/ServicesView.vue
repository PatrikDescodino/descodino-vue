<template>
  <div class="services-page">
    <!-- Services Hero -->
    <section class="section-padding bg-light text-center">
      <div class="container-custom">
        <h1 class="heading-xl mb-6">Branding bal√≠ƒçky pro ka≈ædou f√°zi r≈Østu tech firmy</h1>
        <p class="body-lg text-gray-dark max-w-4xl mx-auto mb-8">
          Od pre-seed startup≈Ø po enterprise. Transparentn√≠ ceny, jasn√© deliverables a garantovan√Ω
          ROI. Vyberte si bal√≠ƒçek podle va≈°ich ambic√≠ a my se postar√°me o transformaci va≈°√≠ znaƒçky.
        </p>

        <!-- Hero Stats -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-2xl mx-auto">
          <div class="text-center">
            <div class="text-3xl font-800 text-primary mb-2">150%+</div>
            <div class="text-sm text-gray-dark">oƒçek√°van√Ω r≈Øst konverz√≠</div>
          </div>
          <div class="text-center">
            <div class="text-3xl font-800 text-primary mb-2">200%+</div>
            <div class="text-sm text-gray-dark">oƒçek√°van√° n√°v≈°tƒõvnost</div>
          </div>
          <div class="text-center">
            <div class="text-3xl font-800 text-primary mb-2">3-6x</div>
            <div class="text-sm text-gray-dark">n√°vratnost investice</div>
          </div>
        </div>
      </div>
    </section>

    <!-- Package Details -->
    <section class="section-padding" id="packages">
      <div class="container-custom">
        <div class="space-y-16">
          <!-- Tech Essentials -->
          <article id="tech-essentials" class="package-detail">
            <div
              class="bg-light rounded-2xl p-8 lg:p-12 shadow-sm hover:shadow-xl transition-all duration-500 border-2 border-transparent hover:border-secondary group"
            >
              <div class="grid grid-cols-1 lg:grid-cols-3 gap-12 items-start">
                <!-- Package Info -->
                <div class="lg:col-span-2 space-y-6">
                  <div class="flex items-start justify-between">
                    <div>
                      <span
                        class="bg-secondary text-light px-4 py-2 rounded-full text-sm font-600 mb-4 inline-block"
                        >Starter</span
                      >
                      <h2
                        class="text-3xl lg:text-4xl font-800 mb-4 group-hover:text-secondary group-hover:scale-105 transition-all duration-300"
                      >
                        Tech Essentials
                      </h2>
                      <p class="text-xl text-gray-dark">
                        Pro tech firmy, kter√© pot≈ôebuj√≠
                        <strong>profesion√°ln√≠ brandov√Ω z√°klad</strong>
                        pro fundraising a r≈Øst
                      </p>
                    </div>
                  </div>

                  <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <!-- Co z√≠sk√°te -->
                    <div>
                      <h3 class="text-xl font-700 mb-4 text-dark">Co z√≠sk√°te za 2-3 mƒõs√≠ce:</h3>
                      <ul class="space-y-3">
                        <li class="flex items-start gap-3">
                          <span class="text-secondary mt-1 text-lg">‚úì</span>
                          <div>
                            <strong>Tech Brand Strategy</strong><br />
                            <span class="text-gray-dark text-sm"
                              >Positioning pro tech trh, konkurenƒçn√≠ anal√Ωza, value
                              proposition</span
                            >
                          </div>
                        </li>
                        <li class="flex items-start gap-3">
                          <span class="text-secondary mt-1 text-lg">‚úì</span>
                          <div>
                            <strong>Modern Visual Identity</strong><br />
                            <span class="text-gray-dark text-sm"
                              >Logo design, barvy, typografie, ikonografie</span
                            >
                          </div>
                        </li>
                        <li class="flex items-start gap-3">
                          <span class="text-secondary mt-1 text-lg">‚úì</span>
                          <div>
                            <strong>Corporate Website</strong><br />
                            <span class="text-gray-dark text-sm"
                              >8-12 str√°nek, responsive design, CMS, SEO optimalizace</span
                            >
                          </div>
                        </li>
                        <li class="flex items-start gap-3">
                          <span class="text-secondary mt-1 text-lg">‚úì</span>
                          <div>
                            <strong>Brand Guidelines</strong><br />
                            <span class="text-gray-dark text-sm"
                              >20+ stran dokumentace, digit√°ln√≠ templates</span
                            >
                          </div>
                        </li>
                        <li class="flex items-start gap-3">
                          <span class="text-secondary mt-1 text-lg">‚úì</span>
                          <div>
                            <strong>Investor Materials</strong><br />
                            <span class="text-gray-dark text-sm"
                              >Pitch deck template, one-pager design</span
                            >
                          </div>
                        </li>
                      </ul>
                    </div>

                    <!-- Oƒçek√°van√Ω dopad -->
                    <div>
                      <h3 class="text-xl font-700 mb-4 text-dark">
                        Oƒçek√°van√Ω dopad na v√°≈° business:
                      </h3>
                      <div class="space-y-4">
                        <div class="flex items-center gap-3">
                          <div class="text-2xl font-800 text-secondary">+25%</div>
                          <span class="text-gray-dark">Zv√Ω≈°en√≠ d≈Øvƒõryhodnosti u investor≈Ø</span>
                        </div>
                        <div class="flex items-center gap-3">
                          <div class="text-2xl font-800 text-secondary">2-3x</div>
                          <span class="text-gray-dark">Lep≈°√≠ konverze webov√Ωch n√°v≈°tƒõvn√≠k≈Ø</span>
                        </div>
                        <div class="flex items-center gap-3">
                          <div class="text-2xl font-800 text-secondary">-50%</div>
                          <span class="text-gray-dark"
                            >Sn√≠≈æen√≠ ƒçasu na p≈ô√≠pravu pitch materi√°l≈Ø</span
                          >
                        </div>
                      </div>

                      <div class="mt-6 p-4 bg-secondary/10 rounded-lg">
                        <p class="text-sm">
                          <strong>Ide√°ln√≠ pro:</strong> Pre-seed/Seed startupy, firmy 10-30 lid√≠,
                          prvn√≠ fundraising
                        </p>
                        <p class="text-sm"><strong>Doba realizace:</strong> 2-3 mƒõs√≠ce</p>
                        <p class="text-sm">
                          <strong>Garance:</strong> 3 revizn√≠ kola, 30 dn√≠ post-launch podpora
                        </p>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Price & CTA -->
                <div class="text-center lg:text-right">
                  <div class="bg-white p-6 rounded-xl shadow-sm border">
                    <div class="mb-4">
                      <div class="text-sm text-gray-600">Investice</div>
                      <div class="text-4xl font-800 text-primary">180-220k Kƒç</div>
                      <div class="text-sm text-gray-600">Pr≈Ømƒõr: 200k Kƒç</div>
                    </div>
                    <button
                      class="btn-primary w-full mb-4 hover:bg-secondary transition-colors"
                      @click="selectPackage('tech-essentials')"
                    >
                      Vybrat Tech Essentials
                    </button>
                    <a
                      href="#roi-calculator"
                      class="text-secondary font-600 hover:underline text-sm"
                    >
                      Nebo si vypoƒç√≠tejte ROI ‚Üí
                    </a>
                  </div>
                </div>
              </div>
            </div>
          </article>

          <!-- Scale Ready -->
          <article id="scale-ready" class="package-detail featured">
            <div
              class="bg-light rounded-2xl p-8 lg:p-12 shadow-md border-2 border-primary relative transform scale-102 transition-all duration-500 group"
            >
              <div class="absolute -top-4 left-1/2 transform -translate-x-1/2">
                <span class="bg-primary text-light px-6 py-2 rounded-full text-sm font-600"
                  >Nejobl√≠benƒõj≈°√≠</span
                >
              </div>

              <div class="grid grid-cols-1 lg:grid-cols-3 gap-12 items-start pt-4">
                <!-- Package Info -->
                <div class="lg:col-span-2 space-y-6">
                  <div class="flex items-start justify-between">
                    <div>
                      <span
                        class="bg-primary text-light px-4 py-2 rounded-full text-sm font-600 mb-4 inline-block"
                        >Growth</span
                      >
                      <h2
                        class="text-3xl lg:text-4xl font-800 mb-4 group-hover:text-primary group-hover:scale-105 transition-all duration-300"
                      >
                        Scale Ready
                      </h2>
                      <p class="text-xl text-gray-dark">
                        Pro tech firmy p≈ôipraven√© na
                        <strong>rychl√Ω r≈Øst, Series A a mezin√°rodn√≠ expanzi</strong>
                      </p>
                    </div>
                  </div>

                  <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <!-- Co z√≠sk√°te -->
                    <div>
                      <h3 class="text-xl font-700 mb-4 text-dark">Co z√≠sk√°te za 3-4 mƒõs√≠ce:</h3>
                      <ul class="space-y-3">
                        <li class="flex items-start gap-3">
                          <span class="text-primary mt-1 text-lg">‚úì</span>
                          <div>
                            <strong>V≈°e z Tech Essentials bal√≠ƒçku</strong>
                          </div>
                        </li>
                        <li class="flex items-start gap-3">
                          <span class="text-primary mt-1 text-lg">‚úì</span>
                          <div>
                            <strong>Advanced Website</strong><br />
                            <span class="text-gray-dark text-sm"
                              >15-20 str√°nek, CRM integrace, analytics, automation</span
                            >
                          </div>
                        </li>
                        <li class="flex items-start gap-3">
                          <span class="text-primary mt-1 text-lg">‚úì</span>
                          <div>
                            <strong>Marketing Automation Setup</strong><br />
                            <span class="text-gray-dark text-sm"
                              >Email sequences, lead scoring, nurturing campaigns</span
                            >
                          </div>
                        </li>
                        <li class="flex items-start gap-3">
                          <span class="text-primary mt-1 text-lg">‚úì</span>
                          <div>
                            <strong>Employee Brand Kit</strong><br />
                            <span class="text-gray-dark text-sm"
                              >LinkedIn templates, email signatures, internal guidelines</span
                            >
                          </div>
                        </li>
                        <li class="flex items-start gap-3">
                          <span class="text-primary mt-1 text-lg">‚úì</span>
                          <div>
                            <strong>Growth Marketing Foundation</strong><br />
                            <span class="text-gray-dark text-sm"
                              >Landing pages, A/B testing setup</span
                            >
                          </div>
                        </li>
                      </ul>
                    </div>

                    <!-- Oƒçek√°van√Ω dopad -->
                    <div>
                      <h3 class="text-xl font-700 mb-4 text-dark">
                        Oƒçek√°van√Ω dopad na v√°≈° business:
                      </h3>
                      <div class="space-y-4">
                        <div class="flex items-center gap-3">
                          <div class="text-2xl font-800 text-primary">+60%</div>
                          <span class="text-gray-dark">√öspƒõ≈°nost p≈ôi fundraisingu</span>
                        </div>
                        <div class="flex items-center gap-3">
                          <div class="text-2xl font-800 text-primary">3-5x</div>
                          <span class="text-gray-dark">V√≠ce kvalifikovan√Ωch lead≈Ø</span>
                        </div>
                        <div class="flex items-center gap-3">
                          <div class="text-2xl font-800 text-primary">+45%</div>
                          <span class="text-gray-dark">Zlep≈°en√≠ employee advocacy</span>
                        </div>
                      </div>

                      <div class="mt-6 p-4 bg-primary/10 rounded-lg">
                        <p class="text-sm">
                          <strong>Ide√°ln√≠ pro:</strong> Series A firmy, firmy 30-80 lid√≠, pre-IPO
                          p≈ô√≠prava
                        </p>
                        <p class="text-sm"><strong>Doba realizace:</strong> 3-4 mƒõs√≠ce</p>
                        <p class="text-sm">
                          <strong>Garance:</strong> 5 revizn√≠ch kol, 60 dn√≠ post-launch podpora
                        </p>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Price & CTA -->
                <div class="text-center lg:text-right">
                  <div class="bg-white p-6 rounded-xl shadow-sm border">
                    <div class="mb-4">
                      <div class="text-sm text-gray-600">Investice</div>
                      <div class="text-4xl font-800 text-primary">280-350k Kƒç</div>
                      <div class="text-sm text-gray-600">Pr≈Ømƒõr: 315k Kƒç</div>
                    </div>
                    <button
                      class="btn-primary w-full mb-4 hover:bg-red-700 transition-colors"
                      @click="selectPackage('scale-ready')"
                    >
                      Vybrat Scale Ready
                    </button>
                    <p class="text-gray-600 text-sm">
                      Nejƒçastƒõji volen√Ω bal√≠ƒçek pro tech firmy v r≈Østov√© f√°zi
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </article>

          <!-- Market Leader -->
          <article id="market-leader" class="package-detail">
            <div
              class="bg-light rounded-2xl p-8 lg:p-12 shadow-sm hover:shadow-xl transition-all duration-500 border-2 border-transparent hover:border-secondary group"
            >
              <div class="grid grid-cols-1 lg:grid-cols-3 gap-12 items-start">
                <!-- Package Info -->
                <div class="lg:col-span-2 space-y-6">
                  <div class="flex items-start justify-between">
                    <div>
                      <span
                        class="bg-secondary text-light px-4 py-2 rounded-full text-sm font-600 mb-4 inline-block"
                        >Enterprise</span
                      >
                      <h2
                        class="text-3xl lg:text-4xl font-800 mb-4 group-hover:text-secondary group-hover:scale-105 transition-all duration-300"
                      >
                        Market Leader
                      </h2>
                      <p class="text-xl text-gray-dark">
                        Pro tech firmy s <strong>ambicemi na tr≈æn√≠ dominanci</strong> a mezin√°rodn√≠
                        √∫spƒõch
                      </p>
                    </div>
                  </div>

                  <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <!-- Co z√≠sk√°te -->
                    <div>
                      <h3 class="text-xl font-700 mb-4 text-dark">Co z√≠sk√°te za 4-6 mƒõs√≠c≈Ø:</h3>
                      <ul class="space-y-3">
                        <li class="flex items-start gap-3">
                          <span class="text-secondary mt-1 text-lg">‚úì</span>
                          <div>
                            <strong>V≈°e ze Scale Ready bal√≠ƒçku</strong>
                          </div>
                        </li>
                        <li class="flex items-start gap-3">
                          <span class="text-secondary mt-1 text-lg">‚úì</span>
                          <div>
                            <strong>Multi-market Strategy</strong><br />
                            <span class="text-gray-dark text-sm"
                              >Adaptace pro r≈Øzn√© geografick√© trhy</span
                            >
                          </div>
                        </li>
                        <li class="flex items-start gap-3">
                          <span class="text-secondary mt-1 text-lg">‚úì</span>
                          <div>
                            <strong>Complete Digital Ecosystem</strong><br />
                            <span class="text-gray-dark text-sm"
                              >Intranet, customer portals, partner materials</span
                            >
                          </div>
                        </li>
                        <li class="flex items-start gap-3">
                          <span class="text-secondary mt-1 text-lg">‚úì</span>
                          <div>
                            <strong>6 mƒõs√≠c≈Ø strategick√Ωch konzultac√≠</strong><br />
                            <span class="text-gray-dark text-sm"
                              >Mƒõs√≠ƒçn√≠ reviews a optimalizace</span
                            >
                          </div>
                        </li>
                        <li class="flex items-start gap-3">
                          <span class="text-secondary mt-1 text-lg">‚úì</span>
                          <div>
                            <strong>PR & Media Kit</strong><br />
                            <span class="text-gray-dark text-sm"
                              >Press materials, thought leadership positioning</span
                            >
                          </div>
                        </li>
                      </ul>
                    </div>

                    <!-- Oƒçek√°van√Ω dopad -->
                    <div>
                      <h3 class="text-xl font-700 mb-4 text-dark">
                        Oƒçek√°van√Ω dopad na v√°≈° business:
                      </h3>
                      <div class="space-y-4">
                        <div class="flex items-center gap-3">
                          <div class="text-2xl font-800 text-secondary">+120%</div>
                          <span class="text-gray-dark">Brand value appreciation</span>
                        </div>
                        <div class="flex items-center gap-3">
                          <div class="text-2xl font-800 text-secondary">5-10x</div>
                          <span class="text-gray-dark">N√°vratnost investice v prvn√≠m roce</span>
                        </div>
                        <div class="flex items-center gap-3">
                          <div class="text-2xl font-800 text-secondary">-60%</div>
                          <span class="text-gray-dark">Sn√≠≈æen√≠ CAC d√≠ky siln√© znaƒçce</span>
                        </div>
                      </div>

                      <div class="mt-6 p-4 bg-secondary/10 rounded-lg">
                        <p class="text-sm">
                          <strong>Ide√°ln√≠ pro:</strong> Series B+, firmy 80+ lid√≠, mezin√°rodn√≠
                          expanze, IPO p≈ô√≠prava
                        </p>
                        <p class="text-sm"><strong>Doba realizace:</strong> 4-6 mƒõs√≠c≈Ø</p>
                        <p class="text-sm">
                          <strong>Garance:</strong> Unlimited revize, 6 mƒõs√≠c≈Ø ongoing podpora
                        </p>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Price & CTA -->
                <div class="text-center lg:text-right">
                  <div class="bg-white p-6 rounded-xl shadow-sm border">
                    <div class="mb-4">
                      <div class="text-sm text-gray-600">Investice</div>
                      <div class="text-4xl font-800 text-primary">420-550k Kƒç</div>
                      <div class="text-sm text-gray-600">Pr≈Ømƒõr: 485k Kƒç</div>
                    </div>
                    <button
                      class="btn-primary w-full mb-4 hover:bg-secondary transition-colors"
                      @click="selectPackage('market-leader')"
                    >
                      Vybrat Market Leader
                    </button>
                    <p class="text-gray-600 text-sm">
                      Pro firmy, kter√© chtƒõj√≠ dominovat sv√©mu trhu
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </article>
        </div>
      </div>
    </section>

    <!-- ROI Calculator -->
    <section
      id="roi-calculator"
      class="section-padding bg-dark text-light relative overflow-hidden"
    >
      <!-- Green gradient sides for positive results -->
      <div class="absolute inset-0" v-if="results.roi > 0">
        <div
          class="absolute left-0 top-0 bottom-0 w-1/4 bg-gradient-to-r from-green-600/20 to-transparent"
        ></div>
        <div
          class="absolute right-0 top-0 bottom-0 w-1/4 bg-gradient-to-l from-green-600/20 to-transparent"
        ></div>
      </div>

      <div class="container-custom relative z-10">
        <div class="max-w-6xl mx-auto">
          <div class="text-center mb-8">
            <h2 class="heading-lg text-light mb-4">
              <span class="text-secondary">üí∞</span> Vypoƒç√≠tejte si n√°vratnost investice do
              brandingu
            </h2>
            <p class="body-lg text-gray-300 max-w-3xl mx-auto">
              Zadejte √∫daje o va≈°√≠ tech firmƒõ a zjistƒõte potenci√°ln√≠ dopad profesion√°ln√≠ho brandingu
              na v√°≈° business.
              <span class="text-secondary">V√Ωsledky jsou orientaƒçn√≠!</span>
            </p>
          </div>

          <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            <!-- Input Form - vylep≈°en√Ω design -->
            <div class="bg-gray-900 p-6 rounded-xl border border-gray-700">
              <h3 class="text-xl font-700 text-light mb-6 flex items-center gap-2">
                <span class="text-secondary">üìä</span> Va≈°e souƒçasn√© √∫daje
              </h3>

              <div class="space-y-6">
                <!-- Z√°kladn√≠ metriky -->
                <div class="space-y-4">
                  <h4 class="text-sm font-600 text-gray-300 flex items-center gap-2">
                    <span class="w-2 h-2 bg-secondary rounded-full"></span>
                    Souƒçasn√© performance
                  </h4>

                  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                      <label class="block text-sm font-600 text-gray-300 mb-2">
                        Mƒõs√≠ƒçn√≠ n√°v≈°tƒõvnost
                        <span class="text-gray-500 font-400">(unique visitors)</span>
                      </label>
                      <input
                        v-model.number="calculator.baselineTraffic"
                        type="number"
                        min="0"
                        step="100"
                        class="w-full p-3 bg-gray-800 border border-gray-600 rounded-lg text-light focus:border-secondary focus:ring-2 focus:ring-secondary/20 outline-none transition-all duration-200"
                        placeholder="20 000"
                      />
                      <p class="text-xs text-gray-500 mt-1">Unik√°tn√≠ n√°v≈°tƒõvn√≠ci za mƒõs√≠c</p>
                    </div>

                    <div>
                      <label class="block text-sm font-600 text-gray-300 mb-2">
                        Konverzn√≠ pomƒõr
                        <span class="text-gray-500 font-400">(%)</span>
                      </label>
                      <input
                        v-model.number="calculator.baselineConversion"
                        type="number"
                        min="0"
                        max="100"
                        step="0.1"
                        class="w-full p-3 bg-gray-800 border border-gray-600 rounded-lg text-light focus:border-secondary focus:ring-2 focus:ring-secondary/20 outline-none transition-all duration-200"
                        placeholder="3.0"
                      />
                      <p class="text-xs text-gray-500 mt-1">% n√°v≈°tƒõvn√≠k≈Ø, kte≈ô√≠ koup√≠</p>
                    </div>
                  </div>
                </div>

                <!-- Business metriky -->
                <div class="space-y-4">
                  <h4 class="text-sm font-600 text-gray-300 flex items-center gap-2">
                    <span class="w-2 h-2 bg-primary rounded-full"></span>
                    Business model
                  </h4>

                  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                      <label class="block text-sm font-600 text-gray-300 mb-2">
                        Pr≈Ømƒõrn√° hodnota obchodu
                        <span class="text-gray-500 font-400">(Kƒç)</span>
                      </label>
                      <input
                        v-model.number="calculator.averageOrder"
                        type="number"
                        min="0"
                        step="1000"
                        class="w-full p-3 bg-gray-800 border border-gray-600 rounded-lg text-light focus:border-secondary focus:ring-2 focus:ring-secondary/20 outline-none transition-all duration-200"
                        placeholder="25 000"
                      />
                      <p class="text-xs text-gray-500 mt-1">AOV - average order value</p>
                    </div>

                    <div>
                      <label class="block text-sm font-600 text-gray-300 mb-2">
                        Ziskov√° mar≈æe
                        <span class="text-gray-500 font-400">(%)</span>
                      </label>
                      <input
                        v-model.number="calculator.profitMargin"
                        type="number"
                        min="0"
                        max="100"
                        step="1"
                        class="w-full p-3 bg-gray-800 border border-gray-600 rounded-lg text-light focus:border-secondary focus:ring-2 focus:ring-secondary/20 outline-none transition-all duration-200"
                        placeholder="40"
                      />
                      <p class="text-xs text-gray-500 mt-1">ƒåist√° mar≈æe po n√°kladech</p>
                    </div>
                  </div>
                </div>

                <!-- Progn√≥za na z√°kladƒõ bal√≠ƒçku -->
                <div class="border-t border-gray-700 pt-6 space-y-4">
                  <h4 class="text-sm font-600 text-gray-300 flex items-center gap-2">
                    <span class="w-2 h-2 bg-green-500 rounded-full"></span>
                    Oƒçek√°van√© zlep≈°en√≠ po rebrandingu
                  </h4>

                  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                      <label class="block text-sm font-600 text-gray-300 mb-2"
                        >Nov√° n√°v≈°tƒõvnost</label
                      >
                      <div class="relative">
                        <div
                          class="w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-light flex items-center justify-between"
                        >
                          <span class="font-600">{{
                            formatNumber(projectedMetrics.newTraffic)
                          }}</span>
                          <span
                            class="text-green-400 text-sm font-600 bg-green-400/10 px-2 py-1 rounded"
                          >
                            +{{ projectedMetrics.trafficIncrease }}%
                          </span>
                        </div>
                      </div>
                    </div>

                    <div>
                      <label class="block text-sm font-600 text-gray-300 mb-2">Nov√° konverze</label>
                      <div class="relative">
                        <div
                          class="w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-light flex items-center justify-between"
                        >
                          <span class="font-600"
                            >{{ projectedMetrics.newConversion.toFixed(1) }}%</span
                          >
                          <span
                            class="text-green-400 text-sm font-600 bg-green-400/10 px-2 py-1 rounded"
                          >
                            +{{ projectedMetrics.conversionIncrease }}%
                          </span>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Bal√≠ƒçek a horizont -->
                <div class="border-t border-gray-700 pt-6 space-y-4">
                  <h4 class="text-sm font-600 text-gray-300 flex items-center gap-2">
                    <span class="w-2 h-2 bg-primary rounded-full"></span>
                    Investice a horizont
                  </h4>

                  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                      <label class="block text-sm font-600 text-gray-300 mb-2"
                        >Brandingov√Ω bal√≠ƒçek</label
                      >
                      <select
                        v-model="calculator.selectedPackage"
                        @change="updateInvestmentFromPackage"
                        class="w-full p-3 bg-gray-800 border border-gray-600 rounded-lg text-light focus:border-secondary focus:ring-2 focus:ring-secondary/20 outline-none transition-all duration-200"
                      >
                        <option value="tech-essentials">Tech Essentials (200k Kƒç)</option>
                        <option value="scale-ready">Scale Ready (315k Kƒç)</option>
                        <option value="market-leader">Market Leader (485k Kƒç)</option>
                      </select>
                    </div>

                    <div>
                      <label class="block text-sm font-600 text-gray-300 mb-2">
                        ƒåasov√Ω horizont: {{ calculator.horizon }} mƒõs√≠c≈Ø
                      </label>
                      <input
                        v-model.number="calculator.horizon"
                        type="range"
                        min="3"
                        max="24"
                        step="1"
                        class="w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer slider"
                      />
                      <div class="flex justify-between text-xs text-gray-500 mt-1">
                        <span>3m</span>
                        <span>12m</span>
                        <span>24m</span>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Quick insights -->
                <div class="bg-gray-800/50 p-4 rounded-lg border border-gray-700">
                  <div class="text-xs text-gray-400 space-y-1">
                    <div class="flex justify-between">
                      <span>Souƒçasn√© mƒõs√≠ƒçn√≠ obchody:</span>
                      <span class="text-light">{{
                        Math.round(
                          (calculator.baselineTraffic * calculator.baselineConversion) / 100,
                        )
                      }}</span>
                    </div>
                    <div class="flex justify-between">
                      <span>Potenci√°ln√≠ nov√© obchody:</span>
                      <span class="text-secondary">{{
                        Math.round(
                          (projectedMetrics.newTraffic * projectedMetrics.newConversion) / 100,
                        )
                      }}</span>
                    </div>
                    <div class="flex justify-between font-600 pt-2 border-t border-gray-700">
                      <span>N√°r≈Øst obchod≈Ø:</span>
                      <span class="text-green-400"
                        >+{{
                          Math.round(
                            (projectedMetrics.newTraffic * projectedMetrics.newConversion) / 100 -
                              (calculator.baselineTraffic * calculator.baselineConversion) / 100,
                          )
                        }}/mƒõs√≠c</span
                      >
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- ROI Calculator Results - sjednocen√Ω design -->
            <div class="space-y-4">
              <h3 class="text-xl font-700 text-light mb-6 flex items-center gap-2">
                <span class="text-secondary">üìà</span> Potenci√°ln√≠ v√Ωsledky
              </h3>

              <!-- Hlavn√≠ metriky - v≈°echny stejn√© velikosti -->
              <div class="grid grid-cols-1 gap-4">
                <!-- Souƒçasn√Ω stav vs Nov√Ω stav -->
                <div class="bg-gray-900 p-4 rounded-lg border border-gray-700">
                  <div class="grid grid-cols-2 gap-4">
                    <div class="text-center">
                      <h4 class="text-gray-400 text-xs font-600 mb-2">Souƒçasn√Ω mƒõs√≠ƒçn√≠ zisk</h4>
                      <p class="text-lg font-800 text-gray-300">
                        {{ formatCurrency(results.baselineProfit) }}
                      </p>
                    </div>
                    <div class="text-center">
                      <h4 class="text-secondary text-xs font-600 mb-2">Nov√Ω mƒõs√≠ƒçn√≠ zisk</h4>
                      <p class="text-lg font-800 text-light">
                        {{ formatCurrency(results.projectedProfit) }}
                      </p>
                    </div>
                  </div>
                </div>

                <!-- Nav√Ω≈°en√≠ zisku - nejvƒõt≈°√≠ d≈Øraz -->
                <div
                  class="bg-gradient-to-r from-secondary/20 to-primary/20 p-6 rounded-lg border border-secondary/50 text-center"
                >
                  <h4 class="text-secondary text-sm font-600 mb-2">Potenci√°ln√≠ nav√Ω≈°en√≠ zisku</h4>
                  <p class="text-3xl font-900 text-light mb-1">
                    {{ formatCurrency(results.incrementalProfit) }}
                  </p>
                  <p class="text-xs text-gray-300">mƒõs√≠ƒçnƒõ</p>
                </div>

                <!-- ROI a Payback - stejn√° velikost -->
                <div class="grid grid-cols-2 gap-4">
                  <div
                    class="p-4 rounded-lg text-center border"
                    :class="
                      results.roi > 0
                        ? 'bg-green-900/30 border-green-600'
                        : 'bg-gray-800 border-gray-600'
                    "
                  >
                    <h4
                      class="text-xs font-600 mb-2"
                      :class="results.roi > 0 ? 'text-green-400' : 'text-gray-400'"
                    >
                      ROI za {{ calculator.horizon }}m
                    </h4>
                    <p
                      class="text-2xl font-800"
                      :class="results.roi > 0 ? 'text-green-400' : 'text-gray-400'"
                    >
                      {{ (results.roi * 100).toFixed(0) }}%
                    </p>
                  </div>

                  <div class="bg-gray-800 p-4 rounded-lg text-center border border-gray-600">
                    <h4 class="text-secondary text-xs font-600 mb-2">Doba n√°vratnosti</h4>
                    <p class="text-2xl font-800 text-light">
                      {{
                        results.paybackPeriod === Infinity
                          ? '‚Äì'
                          : Math.round(results.paybackPeriod) + 'm'
                      }}
                    </p>
                  </div>
                </div>

                <!-- Detailn√≠ breakdown - rozbalovac√≠ -->
                <details class="bg-gray-900 rounded-lg border border-gray-700">
                  <summary
                    class="p-4 cursor-pointer hover:bg-gray-800 rounded-lg transition-colors"
                  >
                    <span class="text-sm font-600 text-gray-300"
                      >üìä Detailn√≠ breakdown v√Ωpoƒçt≈Ø</span
                    >
                  </summary>
                  <div class="p-4 pt-0 space-y-3">
                    <div class="grid grid-cols-2 gap-4 text-xs">
                      <div class="space-y-2">
                        <div class="flex justify-between">
                          <span class="text-gray-400">Souƒçasn√° n√°v≈°tƒõvnost:</span>
                          <span class="text-light"
                            >{{ formatNumber(calculator.baselineTraffic) }}/mƒõs√≠c</span
                          >
                        </div>
                        <div class="flex justify-between">
                          <span class="text-gray-400">Souƒçasn√° konverze:</span>
                          <span class="text-light">{{ calculator.baselineConversion }}%</span>
                        </div>
                        <div class="flex justify-between">
                          <span class="text-gray-400">Souƒçasn√© obchody:</span>
                          <span class="text-light"
                            >{{
                              Math.round(
                                (calculator.baselineTraffic * calculator.baselineConversion) / 100,
                              )
                            }}/mƒõs√≠c</span
                          >
                        </div>
                      </div>
                      <div class="space-y-2">
                        <div class="flex justify-between">
                          <span class="text-gray-400">Nov√° n√°v≈°tƒõvnost:</span>
                          <span class="text-secondary"
                            >{{ formatNumber(projectedMetrics.newTraffic) }}/mƒõs√≠c</span
                          >
                        </div>
                        <div class="flex justify-between">
                          <span class="text-gray-400">Nov√° konverze:</span>
                          <span class="text-secondary"
                            >{{ projectedMetrics.newConversion.toFixed(1) }}%</span
                          >
                        </div>
                        <div class="flex justify-between">
                          <span class="text-gray-400">Nov√© obchody:</span>
                          <span class="text-secondary"
                            >{{
                              Math.round(
                                (projectedMetrics.newTraffic * projectedMetrics.newConversion) /
                                  100,
                              )
                            }}/mƒõs√≠c</span
                          >
                        </div>
                      </div>
                    </div>

                    <div class="border-t border-gray-700 pt-3">
                      <div class="flex justify-between text-xs">
                        <span class="text-gray-400"
                          >Celkov√Ω n√°r≈Øst za {{ calculator.horizon }} mƒõs√≠c≈Ø:</span
                        >
                        <span class="text-green-400 font-600">{{
                          formatCurrency(results.incrementalProfit * calculator.horizon)
                        }}</span>
                      </div>
                      <div class="flex justify-between text-xs">
                        <span class="text-gray-400">M√≠nus investice do brandingu:</span>
                        <span class="text-red-400"
                          >-{{ formatCurrency(calculator.investment) }}</span
                        >
                      </div>
                      <div
                        class="flex justify-between text-sm font-600 pt-2 border-t border-gray-700"
                      >
                        <span class="text-light">ƒåist√Ω zisk:</span>
                        <span :class="results.roi > 0 ? 'text-green-400' : 'text-red-400'">
                          {{
                            formatCurrency(
                              results.incrementalProfit * calculator.horizon -
                                calculator.investment,
                            )
                          }}
                        </span>
                      </div>
                    </div>
                  </div>
                </details>

                <!-- Disclaimer -->
                <div class="bg-orange-900/20 border border-orange-600/30 p-4 rounded-lg">
                  <div class="flex items-start gap-3">
                    <span class="text-orange-400 mt-0.5">‚ö†Ô∏è</span>
                    <div>
                      <h4 class="text-orange-200 font-600 text-sm mb-1">Orientaƒçn√≠ v√Ωpoƒçet</h4>
                      <p class="text-xs text-orange-200/80 leading-relaxed">
                        Kalkulaƒçka pou≈æ√≠v√° pr≈Ømƒõrn√© hodnoty z na≈°ich projekt≈Ø. Skuteƒçn√© v√Ωsledky se
                        mohou v√Ωznamnƒõ li≈°it podle oboru, kvality souƒçasn√©ho brandingu a dal≈°√≠ch
                        faktor≈Ø.
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Process Section - Timeline Design -->
    <!-- Process Section - Timeline Design -->
    <section class="section-padding bg-light relative overflow-hidden">
      <div class="container-custom relative z-10">
        <div class="text-center mb-16">
          <h2 class="heading-lg mb-4">Jak prob√≠h√° na≈°e spolupr√°ce krok za krokem</h2>
          <p class="body-lg text-gray-dark max-w-3xl mx-auto">
            Transparentn√≠ proces od prvn√≠ho hovoru po fin√°ln√≠ implementaci. Ka≈æd√Ω krok m√° jasn√©
            deliverables a milestones.
          </p>
        </div>

        <!-- Timeline Container -->
        <div ref="timelineRef" class="max-w-5xl mx-auto relative">
          <!-- Vertik√°ln√≠ ƒçasov√° osa -->
          <div
            class="absolute left-1/2 transform -translate-x-1/2 w-1 bg-gray-300 h-full rounded-full timeline-track"
          >
            <!-- Timeline gradient -->
            <div
              class="absolute inset-0 bg-gradient-to-b from-secondary via-primary to-secondary rounded-full opacity-60"
            ></div>

            <!-- Progress indicator (animate on scroll) -->
            <div
              class="absolute top-0 left-0 w-full bg-gradient-to-b from-secondary to-primary rounded-full timeline-progress"
              :style="{ height: `${timelineProgress}%` }"
            ></div>
          </div>

          <!-- Timeline Steps -->
          <div class="space-y-24">
            <!-- Step 1 - Left Side -->
            <div
              :ref="(el) => (stepRefs[0] = el as HTMLElement)"
              class="relative group timeline-step"
              :class="{ 'step-visible': visibleSteps.has(0) }"
            >
              <!-- Timeline node -->
              <div
                class="absolute left-1/2 transform -translate-x-1/2 -translate-y-1/2 top-1/2 z-20 timeline-node"
              >
                <div
                  class="w-16 h-16 bg-secondary text-light rounded-full flex-center text-2xl font-800 shadow-lg border-4 border-white timeline-node-circle"
                >
                  1
                </div>
              </div>

              <!-- Content - Left aligned -->
              <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
                <div class="lg:text-right space-y-4">
                  <div class="inline-block lg:block">
                    <span
                      class="bg-secondary/10 text-secondary px-4 py-2 rounded-full text-sm font-600 mb-4 inline-block"
                    >
                      T√Ωden 1-2
                    </span>
                  </div>

                  <h3
                    class="text-2xl lg:text-3xl font-800 mb-3 group-hover:text-secondary transition-colors"
                  >
                    Discovery & Strategie
                  </h3>

                  <p class="text-gray-dark mb-6 leading-relaxed">
                    Pono≈ô√≠me se do va≈°eho tech businessu, analyzujeme konkurenci a definujeme
                    positioning. Strategick√Ω workshop s kl√≠ƒçov√Ωmi stakeholdery pro alignment vize.
                  </p>

                  <!-- Deliverables -->
                  <div class="bg-white p-6 rounded-xl shadow-sm border-l-4 border-secondary">
                    <h4 class="font-700 text-dark mb-3 flex items-center gap-2">
                      <span class="text-secondary">üìã</span> Co z√≠sk√°te:
                    </h4>
                    <ul class="grid grid-cols-1 gap-2 text-sm">
                      <li class="flex items-center gap-2">
                        <span class="text-secondary text-xs">‚úì</span>
                        <span>Competitive landscape anal√Ωza</span>
                      </li>
                      <li class="flex items-center gap-2">
                        <span class="text-secondary text-xs">‚úì</span>
                        <span>Brand positioning framework</span>
                      </li>
                      <li class="flex items-center gap-2">
                        <span class="text-secondary text-xs">‚úì</span>
                        <span>Target audience personas</span>
                      </li>
                      <li class="flex items-center gap-2">
                        <span class="text-secondary text-xs">‚úì</span>
                        <span>Messaging hierarchy</span>
                      </li>
                    </ul>
                  </div>
                </div>

                <!-- Visual/Icon Side -->
                <div class="flex justify-center lg:justify-start">
                  <div
                    class="w-48 h-48 bg-gradient-to-br from-secondary/20 to-secondary/5 rounded-2xl flex-center transform group-hover:scale-105 transition-all duration-300 shadow-lg"
                  >
                    <div class="text-6xl">üéØ</div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Step 2 - Right Side -->
            <div
              :ref="(el) => (stepRefs[1] = el as HTMLElement)"
              class="relative group timeline-step"
              :class="{ 'step-visible': visibleSteps.has(1) }"
            >
              <!-- Timeline node -->
              <div
                class="absolute left-1/2 transform -translate-x-1/2 -translate-y-1/2 top-1/2 z-20 timeline-node"
              >
                <div
                  class="w-16 h-16 bg-primary text-light rounded-full flex-center text-2xl font-800 shadow-lg border-4 border-white timeline-node-circle"
                >
                  2
                </div>
              </div>

              <!-- Content - Right aligned -->
              <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
                <!-- Visual/Icon Side -->
                <div class="flex justify-center lg:justify-end order-2 lg:order-1">
                  <div
                    class="w-48 h-48 bg-gradient-to-br from-primary/20 to-primary/5 rounded-2xl flex-center transform group-hover:scale-105 transition-all duration-300 shadow-lg"
                  >
                    <div class="text-6xl">üé®</div>
                  </div>
                </div>

                <div class="space-y-4 order-1 lg:order-2">
                  <div class="inline-block">
                    <span
                      class="bg-primary/10 text-primary px-4 py-2 rounded-full text-sm font-600 mb-4 inline-block"
                    >
                      T√Ωden 3-5
                    </span>
                  </div>

                  <h3
                    class="text-2xl lg:text-3xl font-800 mb-3 group-hover:text-primary transition-colors"
                  >
                    Kreativn√≠ koncept
                  </h3>

                  <p class="text-gray-dark mb-6 leading-relaxed">
                    Vytvo≈ô√≠me vizu√°ln√≠ smƒõr odpov√≠daj√≠c√≠ va≈°√≠ tech DNA. Prezentace 2-3 koncept≈Ø s
                    rationale a aplikacemi na re√°ln√Ωch touchpointech.
                  </p>

                  <!-- Deliverables -->
                  <div class="bg-white p-6 rounded-xl shadow-sm border-l-4 border-primary">
                    <h4 class="font-700 text-dark mb-3 flex items-center gap-2">
                      <span class="text-primary">üé®</span> Co z√≠sk√°te:
                    </h4>
                    <ul class="grid grid-cols-1 gap-2 text-sm">
                      <li class="flex items-center gap-2">
                        <span class="text-primary text-xs">‚úì</span>
                        <span>Visual mood board</span>
                      </li>
                      <li class="flex items-center gap-2">
                        <span class="text-primary text-xs">‚úì</span>
                        <span>Aplikace na business materials</span>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>

            <!-- Step 3 - Left Side -->
            <div
              :ref="(el) => (stepRefs[2] = el as HTMLElement)"
              class="relative group timeline-step"
              :class="{ 'step-visible': visibleSteps.has(2) }"
            >
              <!-- Timeline node -->
              <div
                class="absolute left-1/2 transform -translate-x-1/2 -translate-y-1/2 top-1/2 z-20 timeline-node"
              >
                <div
                  class="w-16 h-16 bg-secondary text-light rounded-full flex-center text-2xl font-800 shadow-lg border-4 border-white timeline-node-circle"
                >
                  3
                </div>
              </div>

              <!-- Content - Left aligned -->
              <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
                <div class="lg:text-right space-y-4">
                  <div class="inline-block lg:block">
                    <span
                      class="bg-secondary/10 text-secondary px-4 py-2 rounded-full text-sm font-600 mb-4 inline-block"
                    >
                      T√Ωden 6-13
                    </span>
                  </div>

                  <h3
                    class="text-2xl lg:text-3xl font-800 mb-3 group-hover:text-secondary transition-colors"
                  >
                    Design & Development
                  </h3>

                  <p class="text-gray-dark mb-6 leading-relaxed">
                    Finalizujeme brand identity a stav√≠me tech-optimalizovan√Ω web. Pr≈Øbƒõ≈æn√© review
                    sessions pro iterace a optimalizace podle feedbacku.
                  </p>

                  <!-- Deliverables -->
                  <div class="bg-white p-6 rounded-xl shadow-sm border-l-4 border-secondary">
                    <h4 class="font-700 text-dark mb-3 flex items-center gap-2">
                      <span class="text-secondary">üíª</span> Co z√≠sk√°te:
                    </h4>
                    <ul class="grid grid-cols-1 gap-2 text-sm">
                      <li class="flex items-center gap-2">
                        <span class="text-secondary text-xs">‚úì</span>
                        <span>Fin√°ln√≠ logo a brand assets</span>
                      </li>
                      <li class="flex items-center gap-2">
                        <span class="text-secondary text-xs">‚úì</span>
                        <span>Kompletn√≠ brand guidelines</span>
                      </li>
                      <li class="flex items-center gap-2">
                        <span class="text-secondary text-xs">‚úì</span>
                        <span>Responzivn√≠ website</span>
                      </li>
                      <li class="flex items-center gap-2">
                        <span class="text-secondary text-xs">‚úì</span>
                        <span>Marketing templates</span>
                      </li>
                    </ul>
                  </div>
                </div>

                <!-- Visual/Icon Side -->
                <div class="flex justify-center lg:justify-start">
                  <div
                    class="w-48 h-48 bg-gradient-to-br from-secondary/20 to-secondary/5 rounded-2xl flex-center transform group-hover:scale-105 transition-all duration-300 shadow-lg"
                  >
                    <div class="text-6xl">üíª</div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Step 4 - Right Side -->
            <div
              :ref="(el) => (stepRefs[3] = el as HTMLElement)"
              class="relative group timeline-step"
              :class="{ 'step-visible': visibleSteps.has(3) }"
            >
              <!-- Timeline node -->
              <div
                class="absolute left-1/2 transform -translate-x-1/2 -translate-y-1/2 top-1/2 z-20 timeline-node"
              >
                <div
                  class="w-16 h-16 bg-primary text-light rounded-full flex-center text-2xl font-800 shadow-lg border-4 border-white timeline-node-circle"
                >
                  4
                </div>
              </div>

              <!-- Content - Right aligned -->
              <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
                <!-- Visual/Icon Side -->
                <div class="flex justify-center lg:justify-end order-2 lg:order-1">
                  <div
                    class="w-48 h-48 bg-gradient-to-br from-primary/20 to-primary/5 rounded-2xl flex-center transform group-hover:scale-105 transition-all duration-300 shadow-lg"
                  >
                    <div class="text-6xl">üöÄ</div>
                  </div>
                </div>

                <div class="space-y-4 order-1 lg:order-2">
                  <div class="inline-block">
                    <span
                      class="bg-primary/10 text-primary px-4 py-2 rounded-full text-sm font-600 mb-4 inline-block"
                    >
                      T√Ωden 14-16 + ongoing
                    </span>
                  </div>

                  <h3
                    class="text-2xl lg:text-3xl font-800 mb-3 group-hover:text-primary transition-colors"
                  >
                    Launch & Optimalizace
                  </h3>

                  <p class="text-gray-dark mb-6 leading-relaxed">
                    Spou≈°t√≠me novou brand identity, ≈°kol√≠me v√°≈° t√Ωm a nastavujeme metriky √∫spƒõchu.
                    Monitoring performance a p≈ô√≠padn√© optimalizace.
                  </p>

                  <!-- Deliverables -->
                  <div class="bg-white p-6 rounded-xl shadow-sm border-l-4 border-primary">
                    <h4 class="font-700 text-dark mb-3 flex items-center gap-2">
                      <span class="text-primary">üöÄ</span> Co z√≠sk√°te:
                    </h4>
                    <ul class="grid grid-cols-1 gap-2 text-sm">
                      <li class="flex items-center gap-2">
                        <span class="text-primary text-xs">‚úì</span>
                        <span>Brand launch strategie</span>
                      </li>
                      <li class="flex items-center gap-2">
                        <span class="text-primary text-xs">‚úì</span>
                        <span>Team training materials</span>
                      </li>
                      <li class="flex items-center gap-2">
                        <span class="text-primary text-xs">‚úì</span>
                        <span>Performance dashboards</span>
                      </li>
                      <li class="flex items-center gap-2">
                        <span class="text-primary text-xs">‚úì</span>
                        <span>Post-launch optimalizace</span>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Timeline Bottom -->
          <div class="absolute bottom-0 left-1/2 transform -translate-x-1/2 translate-y-8">
            <div
              class="w-4 h-4 bg-gradient-to-br from-secondary to-primary rounded-full shadow-lg"
            ></div>
          </div>
        </div>

        <!-- Process Guarantees -->
        <div class="mt-24 pt-16 border-t border-gray-300">
          <h3 class="text-2xl font-800 text-center mb-12">Na≈°e z√°ruky kvality</h3>
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
            <div
              class="text-center p-8 bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 group border border-gray-200 hover:border-secondary"
            >
              <div class="text-4xl mb-4 group-hover:scale-110 transition-transform duration-300">
                üí∞
              </div>
              <h4 class="font-700 mb-3 group-hover:text-secondary transition-colors">
                Fixed price & timeline
              </h4>
              <p class="text-sm text-gray-600 leading-relaxed">
                ≈Ω√°dn√© skryt√© n√°klady nebo nekoneƒçn√© prodlu≈æov√°n√≠
              </p>
            </div>
            <div
              class="text-center p-8 bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 group border border-gray-200 hover:border-primary"
            >
              <div class="text-4xl mb-4 group-hover:scale-110 transition-transform duration-300">
                üîÑ
              </div>
              <h4 class="font-700 mb-3 group-hover:text-primary transition-colors">
                Unlimited revisions
              </h4>
              <p class="text-sm text-gray-600 leading-relaxed">
                V r√°mci scope dokud nebudete 100% spokojeni
              </p>
            </div>
            <div
              class="text-center p-8 bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 group border border-gray-200 hover:border-secondary"
            >
              <div class="text-4xl mb-4 group-hover:scale-110 transition-transform duration-300">
                ‚ö°
              </div>
              <h4 class="font-700 mb-3 group-hover:text-secondary transition-colors">
                Tech expertise
              </h4>
              <p class="text-sm text-gray-600 leading-relaxed">
                Rozum√≠me tech svƒõtu a mluv√≠me va≈°√≠m jazykem
              </p>
            </div>
            <div
              class="text-center p-8 bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 group border border-gray-200 hover:border-primary"
            >
              <div class="text-4xl mb-4 group-hover:scale-110 transition-transform duration-300">
                ü§ù
              </div>
              <h4 class="font-700 mb-3 group-hover:text-primary transition-colors">
                Post-launch support
              </h4>
              <p class="text-sm text-gray-600 leading-relaxed">
                Nez≈Østanete sami, pom≈Ø≈æeme s implementac√≠
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- CTA Section -->
    <section class="section-padding bg-dark text-light text-center">
      <div class="container-custom">
        <h2 class="heading-lg mb-6 text-light">
          P≈ôipraveni investovat do brandingu, kter√Ω se vyplat√≠?
        </h2>
        <p class="body-lg mb-12 max-w-3xl mx-auto text-gray-300">
          Ka≈æd√Ω mƒõs√≠c odkl√°d√°n√≠ profesion√°ln√≠ho brandingu v√°s stoj√≠ potenci√°ln√≠ z√°kazn√≠ky, investory
          a top talenty. Zaƒçnƒõte je≈°tƒõ dnes.
        </p>
        <div class="flex flex-col sm:flex-row gap-6 justify-center items-center">
          <button class="btn-large bg-primary hover:bg-red-700" @click="$emit('openContactModal')">
            Napl√°novat strategickou konzultaci
          </button>
          <div class="flex flex-col sm:flex-row gap-4 text-gray-400">
            <a href="#roi-calculator" class="text-secondary font-600 hover:underline"
              >üìä Vypoƒç√≠tat ROI</a
            >
            <a href="/o-nas" class="text-secondary font-600 hover:underline">üë• Poznat n√°≈° t√Ωm</a>
            <a href="mailto:ahoj@descodino.cz" class="text-secondary font-600 hover:underline"
              >‚úâÔ∏è Napsat email</a
            >
          </div>
        </div>
      </div>
    </section>
  </div>
</template>

<script setup lang="ts">
import { ref, computed, reactive, onMounted, onUnmounted } from 'vue'

// Emits
defineEmits<{
  openContactModal: []
}>()

// Timeline Animation State
const timelineProgress = ref(0)
const visibleSteps = ref<Set<number>>(new Set())
const timelineRef = ref<HTMLElement>()
const stepRefs = ref<HTMLElement[]>([])

// Intersection Observer for timeline animations
let timelineObserver: IntersectionObserver | null = null
let stepObservers: IntersectionObserver[] = []

// ROI Calculator State
const calculator = reactive({
  baselineTraffic: 20000,
  baselineConversion: 3,
  averageOrder: 25000,
  profitMargin: 40,
  investment: 315000,
  horizon: 12,
  selectedPackage: 'scale-ready',
})

// Package performance multipliers
const packageMultipliers = {
  'tech-essentials': {
    trafficIncrease: 25,
    conversionIncrease: 15,
  },
  'scale-ready': {
    trafficIncrease: 40,
    conversionIncrease: 25,
  },
  'market-leader': {
    trafficIncrease: 60,
    conversionIncrease: 40,
  },
}

// Projected metrics based on selected package
const projectedMetrics = computed(() => {
  const multiplier =
    packageMultipliers[calculator.selectedPackage as keyof typeof packageMultipliers]

  const newTraffic = Math.round(calculator.baselineTraffic * (1 + multiplier.trafficIncrease / 100))
  const newConversion = calculator.baselineConversion * (1 + multiplier.conversionIncrease / 100)

  return {
    newTraffic,
    newConversion,
    trafficIncrease: multiplier.trafficIncrease,
    conversionIncrease: multiplier.conversionIncrease,
  }
})

// ROI Calculator Results
const results = computed(() => {
  const N0 = calculator.baselineTraffic || 0
  const CR0 = (calculator.baselineConversion || 0) / 100
  const AOV = calculator.averageOrder || 0
  const M = (calculator.profitMargin || 0) / 100
  const N1 = projectedMetrics.value.newTraffic
  const CR1 = projectedMetrics.value.newConversion / 100
  const months = calculator.horizon || 12
  const I = calculator.investment || 0

  // Calculate profits
  const baselineProfit = N0 * CR0 * AOV * M
  const projectedProfit = N1 * CR1 * AOV * M
  const incrementalProfit = projectedProfit - baselineProfit

  // Calculate ROI and payback
  const roi = I > 0 ? (incrementalProfit * months - I) / I : 0
  const paybackPeriod = incrementalProfit > 0 ? I / incrementalProfit : Infinity

  return {
    baselineProfit,
    projectedProfit,
    incrementalProfit,
    roi,
    paybackPeriod,
  }
})

// Package Selection with auto-suggestions
const selectPackage = (packageName: string) => {
  console.log('Selected package:', packageName)

  // Update selected package and investment
  calculator.selectedPackage = packageName
  updateInvestmentFromPackage()

  // Scroll to ROI calculator
  const roiSection = document.getElementById('roi-calculator')
  if (roiSection) {
    roiSection.scrollIntoView({ behavior: 'smooth' })
  }
}

// Update investment when package changes in dropdown
const updateInvestmentFromPackage = () => {
  switch (calculator.selectedPackage) {
    case 'tech-essentials':
      calculator.investment = 200000
      break
    case 'scale-ready':
      calculator.investment = 315000
      break
    case 'market-leader':
      calculator.investment = 485000
      break
  }
}

// Utility Functions
const formatCurrency = (amount: number): string => {
  return new Intl.NumberFormat('cs-CZ', {
    style: 'currency',
    currency: 'CZK',
    maximumFractionDigits: 0,
  }).format(amount)
}

const formatNumber = (num: number): string => {
  return new Intl.NumberFormat('cs-CZ').format(num)
}

// Timeline Animation Setup
const setupTimelineAnimation = () => {
  if (!timelineRef.value) return

  // Observer for timeline progress
  timelineObserver = new IntersectionObserver(
    (entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          const rect = entry.boundingClientRect
          const scrollProgress = Math.max(
            0,
            Math.min(1, (window.innerHeight - rect.top) / rect.height),
          )
          timelineProgress.value = scrollProgress * 100
        }
      })
    },
    {
      rootMargin: '-10% 0px -10% 0px',
      threshold: [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0],
    },
  )

  timelineObserver.observe(timelineRef.value)

  // Observer for individual steps
  stepRefs.value.forEach((stepEl, index) => {
    if (!stepEl) return

    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            visibleSteps.value.add(index)
          }
        })
      },
      {
        rootMargin: '-20% 0px -20% 0px',
        threshold: 0.3,
      },
    )

    observer.observe(stepEl)
    stepObservers.push(observer)
  })
}

const cleanupTimelineAnimation = () => {
  if (timelineObserver) {
    timelineObserver.disconnect()
    timelineObserver = null
  }

  stepObservers.forEach((observer) => observer.disconnect())
  stepObservers = []
}

// Lifecycle
onMounted(() => {
  // Delay to ensure DOM is ready
  setTimeout(setupTimelineAnimation, 100)
})

onUnmounted(() => {
  cleanupTimelineAnimation()
})
</script>

<style scoped>
.package-detail {
  scroll-margin-top: 100px;
}

/* Timeline Animations */
.timeline-track {
  will-change: transform;
}

.timeline-progress {
  transition: height 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  will-change: height;
}

.timeline-step {
  opacity: 0;
  transform: translateY(30px);
  transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.timeline-step.step-visible {
  opacity: 1;
  transform: translateY(0);
}

.timeline-node-circle {
  transform: scale(0);
  transition: transform 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

.step-visible .timeline-node-circle {
  transform: scale(1);
}

/* Content slide animations */
.timeline-step .lg\\:text-right > * {
  transform: translateX(-50px);
  opacity: 0;
  transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.timeline-step:nth-child(even) .order-1 > * {
  transform: translateX(50px);
  opacity: 0;
  transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.step-visible .lg\\:text-right > *,
.step-visible .order-1 > * {
  transform: translateX(0);
  opacity: 1;
}

/* Staggered animation delays */
.step-visible .lg\\:text-right > *:nth-child(1) {
  transition-delay: 0.1s;
}
.step-visible .lg\\:text-right > *:nth-child(2) {
  transition-delay: 0.2s;
}
.step-visible .lg\\:text-right > *:nth-child(3) {
  transition-delay: 0.3s;
}
.step-visible .lg\\:text-right > *:nth-child(4) {
  transition-delay: 0.4s;
}

.step-visible .order-1 > *:nth-child(1) {
  transition-delay: 0.1s;
}
.step-visible .order-1 > *:nth-child(2) {
  transition-delay: 0.2s;
}
.step-visible .order-1 > *:nth-child(3) {
  transition-delay: 0.3s;
}
.step-visible .order-1 > *:nth-child(4) {
  transition-delay: 0.4s;
}

/* Custom slider styling */
.slider::-webkit-slider-thumb {
  appearance: none;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: #96b623;
  cursor: pointer;
  border: 2px solid #000;
}

.slider::-moz-range-thumb {
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: #96b623;
  cursor: pointer;
  border: 2px solid #000;
}

/* Input focus animations */
input:focus,
select:focus {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(150, 182, 35, 0.15);
}

/* ROI result animations */
.roi-metric {
  transition: all 0.3s ease;
}

.roi-metric:hover {
  transform: translateY(-2px);
}

/* Hover effects for guarantees */
.group:hover {
  transform: translateY(-4px);
}

/* Mobile responsive adjustments */
@media (max-width: 1023px) {
  .lg\\:text-right {
    text-align: left !important;
  }

  .lg\\:justify-end {
    justify-content: center !important;
  }

  .lg\\:justify-start {
    justify-content: center !important;
  }
}
</style>
